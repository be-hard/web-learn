### chrome浏览器为标签页分配渲染引擎的策略
如果两个标签页同属于**一个浏览器上下文组**并且属于**同一个站点**，那么这两个标签页会被浏览器分配到同一个渲染进程。如果不能同时满足，则会分配到不同渲染进程
### 浏览器上下文
在 WhatWG 规范中，把这一类具有相互连接关系的标签页称为浏览上下文组 ( browsing context group)。
### 标签页如何建立连接关系
- 通过<a>标签和新标签建立联系
新标签页中的 window.opener 的值就是指向原来标签页中的 window，这样就可以在新的标签页中通过 opener 来操作上个标签页了。
- 通过 JavaScript 中的 window.open 方法来和新标签页建立连接
通过以上两种方式打开的新标签页，不论这两个标签页是否属于同一站点，他们之间都能通过 opener 来建立连接，所以他们之间是有联系的。
#### 如果从 A 标签页中打开 B 标签页，那么 A 标签页和 B 标签页一定属于同一浏览上下文组吗？
  不一定，如果a 链接的 rel 属性值都使用了 noopener 和 noreferrer，通过 noopener，告诉浏览器被链接的标签页和当前标签页不要产生连接关系。noopener 的值引入 rel 属性中，就是告诉浏览器通过这个链接打开的标签页中的 opener 值设置为 null，引入 noreferrer 就是告诉浏览器，新打开的标签页不要有引用关系。所以如果设置了这些属性，两个标签页就不属于同一个浏览器上下文组。

### 同一站点&同源
只要根域名相同就是同一站点，同源要协议域名端口都相同。
如time.geekbang.org和 www.geekbang.org，根域名相同，是同一个站点，但不是同源。
### 站点隔离
标签页中的 iframe 也会遵守同一站点的分配原则，如果标签页中的 iframe 和标签页是同一站点，并且有连接关系，那么标签页依然会和当前标签页运行在同一个渲染进程中，如果 iframe 和标签页不属于同一站点，那么 iframe 会运行在单独的渲染进程中。

![iframe使用的渲染进程数目](https://static001.geekbang.org/resource/image/a1/0e/a13f917f227e85102998b3bfe38b4e0e.jpg)

### 为什么Chrome要这么设计？
1）资源复用

### 为什么一些网站的标签链接就算是同一站点也设置了noopener/noreferer？
如果多个标签页共用一个进程，其中一个标签页崩溃了，那么全部崩溃
